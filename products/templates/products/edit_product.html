{% extends 'accounts/base.html' %}
{% block title %}Edit Product - SokoHub{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                <div class="card-header bg-white border-bottom p-4">
                    <h4 class="fw-bold m-0"><i class="bi bi-pencil-square me-2" style="color: var(--primary-teal);"></i>
                        Edit Product</h4>
                </div>
                <div class="card-body p-5">

                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}

                        <div class="row g-3">
                            <!-- Basic Info -->
                            <div class="col-12">
                                <h5 class="fw-bold text-muted border-bottom pb-2 mb-3">Basic Information</h5>
                            </div>

                            <div class="col-12">
                                <label class="form-label fw-bold small text-uppercase text-muted">Product Name</label>
                                {{ form.name }}
                                {% if form.name.errors %} <div class="text-danger small">{{ form.name.errors.0 }}</div>
                                {% endif %}
                            </div>

                            <div class="col-12">
                                <label class="form-label fw-bold small text-uppercase text-muted">Description</label>
                                {{ form.description }}
                                {% if form.description.errors %} <div class="text-danger small">{{
                                    form.description.errors.0 }}</div> {% endif %}
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold small text-uppercase text-muted">Price ($)</label>
                                {{ form.price }}
                                {% if form.price.errors %} <div class="text-danger small">{{ form.price.errors.0 }}
                                </div> {% endif %}
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold small text-uppercase text-muted">Stock Quantity</label>
                                {{ form.stock }}
                                {% if form.stock.errors %} <div class="text-danger small">{{ form.stock.errors.0 }}
                                </div> {% endif %}
                            </div>

                            <!-- Image Upload Section -->
                            <div class="col-12 mt-4">
                                <h5 class="fw-bold text-muted border-bottom pb-2 mb-3">Product Images</h5>
                            </div>

                            <div class="col-12 mb-3">
                                <label class="form-label fw-bold small text-uppercase text-muted">Main Image</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light"><i class="bi bi-image"></i></span>
                                    {{ form.image }}
                                </div>
                                {% if form.image.errors %} <div class="text-danger small">{{ form.image.errors.0 }}
                                </div> {% endif %}
                            </div>

                            <div class="col-md-4">
                                <label class="form-label fw-bold small text-uppercase text-muted">Gallery Image
                                    1</label>
                                {{ form.image1 }}
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold small text-uppercase text-muted">Gallery Image
                                    2</label>
                                {{ form.image2 }}
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold small text-uppercase text-muted">Gallery Image
                                    3</label>
                                {{ form.image3 }}
                            </div>
                            <div class="form-text text-muted mt-2">
                                <i class="bi bi-info-circle"></i> Uploading new gallery images will replace the existing
                                ones.
                            </div>
                        </div>

                        <div class="d-flex justify-content-end gap-3 mt-5">
                            <a href="{% url 'vendor_products' %}" class="btn btn-light border px-4">Cancel</a>
                            <button type="submit" class="btn text-white px-5 fw-bold"
                                style="background-color: var(--primary-teal);">Update Product</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}