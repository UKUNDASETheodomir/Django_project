    {% extends 'accounts/base.html' %}

   {% block title %}My Product Orders{% endblock %}

     {% block content %}
    
        <h1 class="text-center mb-3">My Product Orders</h1>

        {% if orders_with_totals %}
            {% for data in orders_with_totals %}
                <div class="card mb-3 shadow-sm">
                    <div class="card-header d-flex justify-content-between align-items-center bg-primary text-white py-2">
                        <h6 class="mb-0">Order #{{ data.order.id }}</h6>
                        <span class="badge bg-light text-dark">{{ data.order.status }}</span>
                    </div>
                    <div class="card-body py-2">
                        <p class="mb-1"><strong>Customer:</strong> {{ data.order.customer.username }}</p>
                        <p class="mb-1"><strong>Phone:</strong> {{ data.order.phone }}</p>
                        <p class="mb-2"><strong>Delivery Address:</strong> {{ data.order.delivery_address }}</p>

                        <div class="table-responsive">
                            <table class="table table-sm table-bordered mb-2">
                                <thead class="table-light">
                                    <tr>
                                        <th>Product</th>
                                        <th>Qty</th>
                                        <th>Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in data.items %}
                                        <tr>
                                            <td>{{ item.product.name }}</td>
                                            <td>{{ item.quantity }}</td>
                                            <td>${{ item.price }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>

                        <p class="text-end mb-0"><strong>Total: ${{ data.total }}</strong></p>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-info text-center py-2" role="alert">
                You have no orders for your products yet.
            </div>
        {% endif %}
   
{% endblock %}